<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone">

<body>

    <div metal:fill-slot="content-core"
      tal:define="b_start python:request.get('b_start', 0);
                  sort_on python:request.get('sort_on', None);
                  batch python:context.results(b_start=b_start, sort_on=sort_on);
                  normalizeString nocall: context/plone_utils/normalizeString;">

            <div  id="table-collection">
            
            <div metal:use-macro="context/batch_macros/macros/navigation" />

            <input type="hidden" name="b_start" tal:attributes="value b_start"/>

            <div class="table-responsive">

            <table class="table listing"
                  i18n:attributes="summary"
                   summary="Content listing"
                   tal:condition="batch"
                   tal:define="pas_member context/@@pas_member"
                   >
                <thead>
                    <tr>
                        <th class="nosort header-leadMedia"
                          id="leadMedia-column">&nbsp;<tal:title i18n:translate="listingheader_leadMedia"
                          ></tal:title>&nbsp;</th>

                        <th class="nosort header-title"
                          id="title-column">&nbsp;<tal:title i18n:translate="listingheader_title"
                          >Title</tal:title>&nbsp;</th>

                        <th class="nosort header-stock"
                            id="stock-column"
                            >&nbsp;<tal:title i18n:translate="listingheader_stock"
                          >Voorraad</tal:title>&nbsp;</th>

                        <th class="nosort"
                            id="articleNumber-column"
                            >&nbsp;<tal:modified i18n:translate="listingheader_articleNumber"
                          >Artikelnummer</tal:modified>&nbsp;</th>
                    </tr>
                </thead>

                <tbody>
                    <tal:block tal:repeat="item batch">

                    <tr 
                        tal:define="oddrow repeat/item/odd;
                                    item_url item/getURL;
                                    item_id item/getId|item/id;
                                    item_type item/portal_type;
                                    item_title_or_id python: item.Title() if item.Title() != '' else item_id;
                                    item_description item/Description;
                                    item_creator item/Creator;
                                    leadMedia item/leadMedia;
                                    product_stock item/product_stock;
                                    product_articleNumber item/product_articleNumber;
                                    item_type_class python:'contenttype-' + normalizeString(item_type);
                                    item_wf_state item/review_state|python: context.portal_workflow.getInfoFor(item, 'review_state', '');
                                    item_wf_state_class python:'state-' + normalizeString(item_wf_state);"
                        tal:attributes="class python:'even' if oddrow else 'odd'">

                          <td>
                            <tal:leadmedia tal:define='lead_media_url python:view.getLeadMedia(leadMedia)'>
                              <img class="tabular-img" tal:attributes="src lead_media_url" tal:condition='leadMedia'/>
                            </tal:leadmedia>
                          </td>

                            <td>
                                
                                <a href="#"
                                   tal:attributes="href python:item_url;
                                                   class string:$item_wf_state_class $item_type_class;
                                                   title item_description;"
                                   tal:content="item_title_or_id">
                                    Item Title
                                </a>
                            </td>

                            <td>
                                <tal:stock tal:condition="product_stock">
                                  <span tal:content="product_stock"></span>
                                </tal:stock>
                            </td>
                            
                        <td>
                          <tal:articleNumber tal:condition="product_articleNumber">
                            <span tal:content="product_articleNumber"></span>
                          </tal:articleNumber>
                        </td>
                    </tr>
                  </tal:block>

                </tbody>
            </table>
            </div>
            
        
          <div metal:use-macro="context/batch_macros/macros/navigation" />
          <div class="clearfix"></div>
          </div>
    </div>

</body>
</html>
